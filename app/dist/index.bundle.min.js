webpackJsonp([0],{11:function(n,t,e){!function(e,r){var o=function(n){return new i(n)};o.version="0.2";var c=e.fxSetup||{rates:{},base:""};o.rates=c.rates,o.base=c.base,o.settings={from:c.from||o.base,to:c.to||o.base};var u=o.convert=function(n,t){if("object"==typeof n&&n.length){for(var e=0;e<n.length;e++)n[e]=u(n[e],t);return n}return t=t||{},t.from||(t.from=o.settings.from),t.to||(t.to=o.settings.to),n*a(t.to,t.from)},a=function(n,t){var e=o.rates;if(e[o.base]=1,!e[n]||!e[t])throw"fx error";return t===o.base?e[n]:n===o.base?1/e[t]:e[n]*(1/e[t])},i=function(n){"string"==typeof n?(this._v=parseFloat(n.replace(/[^0-9-.]/g,"")),this._fx=n.replace(/([^A-Za-z])/g,"")):this._v=n},p=o.prototype=i.prototype;p.convert=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(this._v),u.apply(o,n)},p.from=function(n){var t=o(u(this._v,{from:n,to:o.base}));return t._fx=o.base,t},p.to=function(n){return u(this._v,{from:this._fx?this._fx:o.settings.from,to:n})},void 0!==n&&n.exports&&(t=n.exports=o),t.fx=o}(this)},24:function(n,t,e){(function(n){function t(t,e){function r(){if(!arguments.length)return o;o=arguments[0],e&&n.nextTick(e,o)}var o=t;return r}function r(t){App.default_currency=a.base,App.read(),n.nextTick(t)}var o=e(5),c=e(2),u=e(3),a=e(11),i=e(6),p=e(9);window.App={default_currency:null,currencies:null,collection:null,last_from_index:null,read:function(){var n;App.collection=c.map(i.get("collection")||[],function(e,r){return r||(n=e),{amount:t(a(1).from(n).to(e)),currency:t(e,App.write)}}),App.last_from_index=0},write:function(){i.set("collection",c.map(App.collection,function(n){return n.currency()}))},addItem:function(){var e=App.collection[App.last_from_index];App.collection.push({amount:t(a(e?e.amount():1).from(e?e.currency():App.default_currency).to(App.default_currency)),currency:t(App.default_currency,App.write)}),n.nextTick(App.write)},removeItem:function(t){App.collection.splice(t,1),n.nextTick(App.write)},getName:function(n){return App.currencies[n]||"Unknown"},updateRatesTable:function(){return Promise.all([new Promise(function(n,t){o.ajax({url:"//openexchangerates.org/api/latest.json?app_id=412c7ea5a585496ca593e6697ce22d9a",dataType:"json",success:function(t){a.rates=t.rates,a.base=t.base,n()},error:t})}),new Promise(function(n,t){o.ajax({url:"//openexchangerates.org/api/currencies.json",dataType:"json",success:function(t){App.currencies=t,n()},error:t})})])},convert:function(n,t,e){e instanceof Array||(e=[e]),e=c.uniq(e);for(var r,o,u=c.map(e,function(e){return{currency:e,amount:a(n).from(t).to(e)}}),i=App.collection.length-1;i>=0;i--)r=App.collection[i],(o=c.find(u,["currency",r.currency()]))&&r.amount(o.amount)},changeAmount:function(n,t){var e=App.collection[t],r=c.map(c.filter(App.collection,function(n,e){return e!==t}),function(n){return n.currency()});App.convert(e.amount(),e.currency(),r),App.last_from_index=t},changeCurrency:function(n){App.changeAmount(n,App.last_from_index)}},window.onload=function(){App.updateRatesTable().then(function(){r(function(n){n||u.mount(document.getElementById("root"),{view:function(){return u("div#converter",{class:"pure-form"},u("table",c.map(App.collection,function(n,t){return u(p,{index:t,amount:n.amount,currency:n.currency,onchangeamount:App.changeAmount,onchangecurrency:App.changeCurrency})})),u("button",{class:"pure-button pure-button-primary"},"Convert"),u("button",{class:"pure-button",onclick:App.addItem},"Add"))}})})})}}).call(t,e(4))},9:function(n,t,e){var r=e(2),o=e(3),c=e(7);n.exports={view:function(n){return o("tr",o("td",o("input",{type:"text",value:c(n.attrs.amount()).format("0,0.00"),onchange:function(t){n.attrs.amount(this.value),n.attrs.onchangeamount(t,n.attrs.index)}})),o("td",o("select",{value:n.attrs.currency(),onchange:function(t){n.attrs.currency(this.value),n.attrs.onchangecurrency(t,n.attrs.index)}},r.map(App.currencies,function(n,t){return o("option",{value:t},n+" ("+t+")")}))),o("td",o("button",{class:"pure-button",onclick:function(){App.removeItem(n.attrs.index)}},"X")))}}}},[24]);