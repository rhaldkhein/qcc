webpackJsonp([0],{15:function(n,e,t){var r=t(2),c=t(3),o=t(12);n.exports={view:function(n){return c("li",c("span",c("input",{type:"text",value:o(n.attrs.amount()).format("0,0.00").replace(/,/g," "),onchange:function(e){n.attrs.amount(this.value),n.attrs.onchangeamount(e,n.attrs.index)}})),c("span",c("select",{value:n.attrs.currency(),onchange:function(e){n.attrs.currency(this.value),n.attrs.onchangecurrency(e,n.attrs.index)}},r(App.currencies,function(n,e){return c("option",{value:e},n+" ("+e+")")}))),c("span",c("span",c("button",{class:"pure-button",onclick:function(){App.removeItem(n.attrs.index)}},"X"))))}}},27:function(n,e,t){(function(n){function e(e,t){function r(){if(!arguments.length)return c;c=arguments[0],t&&n.nextTick(t,c)}var c=e;return r}function r(e){App.default_currency=l.base,App.read(),n.nextTick(e)}window.Promise||(window.Promise=t(10));var c=t(2),o=t(7),u=t(8),a=t(6),p=t(5),i=t(3),l=t(9),s=t(11),f=t(15),m=["USD","EUR","GBP"];window.App={default_currency:null,currencies:null,collection:null,last_from_index:null,read:function(){var n,t=s.get("collection");App.collection=c(o(t)?m:t,function(t,r){return r||(n=t),{amount:e(l(1).from(n).to(t)),currency:e(t,App.write)}}),App.last_from_index=0},write:function(){s.set("collection",c(App.collection,function(n){return n.currency()}))},addItem:function(){var t=App.collection[App.last_from_index];App.collection.push({amount:e(l(t?t.amount():1).from(t?t.currency():App.default_currency).to(App.default_currency)),currency:e(App.default_currency,App.write)}),n.nextTick(App.write)},removeItem:function(e){App.collection.splice(e,1),n.nextTick(App.write)},getName:function(n){return App.currencies[n]||"Unknown"},updateRatesTable:function(){return Promise.all([i.request({url:"//openexchangerates.org/api/latest.json?app_id=412c7ea5a585496ca593e6697ce22d9a"}).then(function(n){return l.rates=n.rates,l.base=n.base,n}),i.request({url:"//openexchangerates.org/api/currencies.json"}).then(function(n){return App.currencies=n,n})])},convert:function(n,e,t){t instanceof Array||(t=[t]),t=u(t);for(var r,o,p=c(t,function(t){return{currency:t,amount:l(n).from(e).to(t)}}),i=App.collection.length-1;i>=0;i--)r=App.collection[i],(o=a(p,["currency",r.currency()]))&&r.amount(o.amount)},changeAmount:function(n,e){var t=App.collection[e],r=c(p(App.collection,function(n,t){return t!==e}),function(n){return n.currency()});App.convert(t.amount(),t.currency(),r),App.last_from_index=e},changeCurrency:function(n){App.changeAmount(n,App.last_from_index)}},window.onload=function(){App.updateRatesTable().then(function(){r(function(n){n||i.mount(document.getElementById("root"),{view:function(){return i("div#converter",{class:"pure-form"},i("ul",c(App.collection,function(n,e){return i(f,{index:e,amount:n.amount,currency:n.currency,onchangeamount:App.changeAmount,onchangecurrency:App.changeCurrency})})),i("button",{class:"pure-button pure-button-primary"},"Convert"),i("button",{class:"pure-button",onclick:App.addItem},"Add"))}})})})}}).call(e,t(13))}},[27]);